{"ast":null,"code":"import { getStorage, ref, uploadBytes, getDownloadURL } from 'firebase/storage';\nimport { jsPDF } from 'jspdf';\nfunction getSeattleTimestampFilename(date = new Date()) {\n  try {\n    const localDate = date.toLocaleString(\"en-US\", {\n      timeZone: \"America/Los_Angeles\"\n    });\n    // localDate 例：\"5/10/2025, 10:44:30 PM\"\n    const [datePart, timePart] = localDate.split(\", \");\n    const [month, day, year] = datePart.split(\"/\").map(Number);\n    let [hourStr, minuteStr, secondStr] = timePart.split(\":\");\n    let ampm = secondStr.slice(-2);\n    let second = Number(secondStr.slice(0, 2));\n    let hour = parseInt(hourStr, 10);\n    let minute = parseInt(minuteStr, 10);\n    if (ampm === \"PM\" && hour !== 12) hour += 12;\n    if (ampm === \"AM\" && hour === 12) hour = 0;\n    const pad = n => n.toString().padStart(2, \"0\");\n    return {\n      fileName: `${year}-${pad(month)}-${pad(day)}_${pad(hour)}-${pad(minute)}-${pad(second)}-report.pdf`,\n      localDateStr: `${year}-${pad(month)}-${pad(day)} ${pad(hour)}:${pad(minute)}:${pad(second)} PST/PDT`\n    };\n  } catch (e) {\n    console.warn('Failed to format Seattle time, fallback to UTC.', e);\n    const d = date;\n    const fileName = `${d.getUTCFullYear()}-${(d.getUTCMonth() + 1).toString().padStart(2, '0')}-${d.getUTCDate().toString().padStart(2, '0')}_${d.getUTCHours().toString().padStart(2, '0')}-${d.getUTCMinutes().toString().padStart(2, '0')}-${d.getUTCSeconds().toString().padStart(2, '0')}-report.pdf`;\n    return {\n      fileName,\n      localDateStr: d.toISOString() + ' UTC'\n    };\n  }\n}\nexport const generatePDF = (plan, localDateStr) => {\n  const {\n    patientInfo,\n    legLength,\n    exercises,\n    sessionsPerDay,\n    sessionTime,\n    followUpTime\n  } = plan;\n  const doc = new jsPDF();\n\n  // Add title\n  doc.setFontSize(20);\n  doc.text('Rehabilitation Exercise Plan', 20, 20);\n\n  // Add local timestamp\n  if (localDateStr) {\n    doc.setFontSize(10);\n    doc.text(`Report Generated: ${localDateStr}`, 20, 30);\n  }\n\n  // Add patient information\n  doc.setFontSize(12);\n  doc.text(`Patient ID: ${patientInfo.patientId}`, 20, 40);\n  doc.text(`Patient Name: ${patientInfo.patientName}`, 20, 50);\n  doc.text(`Rehabilitation Phase: ${patientInfo.rehabilitationPhase}`, 20, 60);\n  doc.text(`Leg Length: ${legLength} cm`, 20, 70);\n\n  // Add session and follow-up time\n  doc.text(`Session Start Time: ${sessionTime ? new Date(sessionTime).toLocaleString('en-US', {\n    timeZone: 'America/Los_Angeles'\n  }) : ''}`, 20, 80);\n  doc.text(`Follow-up Time: ${followUpTime ? new Date(followUpTime).toLocaleString('en-US', {\n    timeZone: 'America/Los_Angeles'\n  }) : ''}`, 20, 90);\n\n  // Add exercise parameters\n  doc.setFontSize(14);\n  doc.text('Exercise Parameters:', 20, 105);\n\n  // 统一行高\n  const lineHeight = 10;\n  let y = 115;\n\n  // Hip Flexion\n  doc.setFontSize(12);\n  doc.text('Hip Flexion:', 20, y);\n  y += lineHeight;\n  doc.text(`Target Angle: ${exercises.hipFlexion.targetAngle}°`, 30, y);\n  y += lineHeight;\n  doc.text(`Target Height: ${exercises.hipFlexion.targetHeight} cm`, 30, y);\n  y += lineHeight;\n  doc.text(`Hold Time: ${exercises.hipFlexion.holdTime} seconds`, 30, y);\n  y += lineHeight;\n  doc.text(`Repetitions: ${exercises.hipFlexion.repetitions}`, 30, y);\n  y += lineHeight * 1.2;\n\n  // Hamstring Curl\n  doc.text('Hamstring Curl:', 20, y);\n  y += lineHeight;\n  doc.text(`Target Angle: ${exercises.hamstringCurl.targetAngle}°`, 30, y);\n  y += lineHeight;\n  doc.text(`Hold Time: ${exercises.hamstringCurl.holdTime} seconds`, 30, y);\n  y += lineHeight;\n  doc.text(`Repetitions: ${exercises.hamstringCurl.repetitions}`, 30, y);\n  y += lineHeight * 1.2;\n\n  // Heel Raise\n  doc.text('Heel Raise:', 20, y);\n  y += lineHeight;\n  doc.text(`Target Height: ${exercises.heelRaise.targetHeight} cm`, 30, y);\n  y += lineHeight;\n  doc.text(`Hold Time: ${exercises.heelRaise.holdTime} seconds`, 30, y);\n  y += lineHeight;\n  doc.text(`Repetitions: ${exercises.heelRaise.repetitions}`, 30, y);\n  y += lineHeight * 1.2;\n\n  // Training Frequency\n  doc.text(`Training Frequency: ${sessionsPerDay} sessions per day`, 20, y);\n  return doc;\n};\nexport const uploadPDF = async (patientId, rehabPhase, pdfDoc, reportDate) => {\n  try {\n    const storage = getStorage();\n    const date = reportDate || new Date();\n    const {\n      fileName,\n      localDateStr\n    } = getSeattleTimestampFilename(date);\n    const pdfBlob = pdfDoc.output('blob');\n    const storageRef = ref(storage, `X-Heal-Reports/${patientId}/${rehabPhase}/${fileName}`);\n    await uploadBytes(storageRef, pdfBlob);\n    const downloadUrl = await getDownloadURL(storageRef);\n    return {\n      url: downloadUrl,\n      fileName,\n      localDateStr\n    };\n  } catch (error) {\n    console.error('Error uploading PDF:', error);\n    throw error;\n  }\n};","map":{"version":3,"names":["getStorage","ref","uploadBytes","getDownloadURL","jsPDF","getSeattleTimestampFilename","date","Date","localDate","toLocaleString","timeZone","datePart","timePart","split","month","day","year","map","Number","hourStr","minuteStr","secondStr","ampm","slice","second","hour","parseInt","minute","pad","n","toString","padStart","fileName","localDateStr","e","console","warn","d","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","toISOString","generatePDF","plan","patientInfo","legLength","exercises","sessionsPerDay","sessionTime","followUpTime","doc","setFontSize","text","patientId","patientName","rehabilitationPhase","lineHeight","y","hipFlexion","targetAngle","targetHeight","holdTime","repetitions","hamstringCurl","heelRaise","uploadPDF","rehabPhase","pdfDoc","reportDate","storage","pdfBlob","output","storageRef","downloadUrl","url","error"],"sources":["/Users/linjunzhang/Desktop/Doctor‘s Dashboard/doctor-dashboard/doctor_portal/src/services/reportService.ts"],"sourcesContent":["import { getStorage, ref, uploadBytes, getDownloadURL } from 'firebase/storage';\nimport { jsPDF } from 'jspdf';\nimport { RehabilitationPlan } from '../types';\n\nfunction getSeattleTimestampFilename(date = new Date()) {\n  try {\n    const localDate = date.toLocaleString(\"en-US\", { timeZone: \"America/Los_Angeles\" });\n    // localDate 例：\"5/10/2025, 10:44:30 PM\"\n    const [datePart, timePart] = localDate.split(\", \");\n    const [month, day, year] = datePart.split(\"/\").map(Number);\n    let [hourStr, minuteStr, secondStr] = timePart.split(\":\");\n    let ampm = secondStr.slice(-2);\n    let second = Number(secondStr.slice(0, 2));\n    let hour = parseInt(hourStr, 10);\n    let minute = parseInt(minuteStr, 10);\n    if (ampm === \"PM\" && hour !== 12) hour += 12;\n    if (ampm === \"AM\" && hour === 12) hour = 0;\n    const pad = (n: number) => n.toString().padStart(2, \"0\");\n    return {\n      fileName: `${year}-${pad(month)}-${pad(day)}_${pad(hour)}-${pad(minute)}-${pad(second)}-report.pdf`,\n      localDateStr: `${year}-${pad(month)}-${pad(day)} ${pad(hour)}:${pad(minute)}:${pad(second)} PST/PDT`\n    };\n  } catch (e) {\n    console.warn('Failed to format Seattle time, fallback to UTC.', e);\n    const d = date;\n    const fileName = `${d.getUTCFullYear()}-${(d.getUTCMonth()+1).toString().padStart(2,'0')}-${d.getUTCDate().toString().padStart(2,'0')}_${d.getUTCHours().toString().padStart(2,'0')}-${d.getUTCMinutes().toString().padStart(2,'0')}-${d.getUTCSeconds().toString().padStart(2,'0')}-report.pdf`;\n    return { fileName, localDateStr: d.toISOString() + ' UTC' };\n  }\n}\n\nexport const generatePDF = (plan: RehabilitationPlan, localDateStr?: string) => {\n  const { patientInfo, legLength, exercises, sessionsPerDay, sessionTime, followUpTime } = plan;\n  const doc = new jsPDF();\n\n  // Add title\n  doc.setFontSize(20);\n  doc.text('Rehabilitation Exercise Plan', 20, 20);\n\n  // Add local timestamp\n  if (localDateStr) {\n    doc.setFontSize(10);\n    doc.text(`Report Generated: ${localDateStr}`, 20, 30);\n  }\n\n  // Add patient information\n  doc.setFontSize(12);\n  doc.text(`Patient ID: ${patientInfo.patientId}`, 20, 40);\n  doc.text(`Patient Name: ${patientInfo.patientName}`, 20, 50);\n  doc.text(`Rehabilitation Phase: ${patientInfo.rehabilitationPhase}`, 20, 60);\n  doc.text(`Leg Length: ${legLength} cm`, 20, 70);\n\n  // Add session and follow-up time\n  doc.text(`Session Start Time: ${sessionTime ? new Date(sessionTime).toLocaleString('en-US', { timeZone: 'America/Los_Angeles' }) : ''}`, 20, 80);\n  doc.text(`Follow-up Time: ${followUpTime ? new Date(followUpTime).toLocaleString('en-US', { timeZone: 'America/Los_Angeles' }) : ''}`, 20, 90);\n\n  // Add exercise parameters\n  doc.setFontSize(14);\n  doc.text('Exercise Parameters:', 20, 105);\n\n  // 统一行高\n  const lineHeight = 10;\n  let y = 115;\n\n  // Hip Flexion\n  doc.setFontSize(12);\n  doc.text('Hip Flexion:', 20, y); y += lineHeight;\n  doc.text(`Target Angle: ${exercises.hipFlexion.targetAngle}°`, 30, y); y += lineHeight;\n  doc.text(`Target Height: ${exercises.hipFlexion.targetHeight} cm`, 30, y); y += lineHeight;\n  doc.text(`Hold Time: ${exercises.hipFlexion.holdTime} seconds`, 30, y); y += lineHeight;\n  doc.text(`Repetitions: ${exercises.hipFlexion.repetitions}`, 30, y); y += lineHeight * 1.2;\n\n  // Hamstring Curl\n  doc.text('Hamstring Curl:', 20, y); y += lineHeight;\n  doc.text(`Target Angle: ${exercises.hamstringCurl.targetAngle}°`, 30, y); y += lineHeight;\n  doc.text(`Hold Time: ${exercises.hamstringCurl.holdTime} seconds`, 30, y); y += lineHeight;\n  doc.text(`Repetitions: ${exercises.hamstringCurl.repetitions}`, 30, y); y += lineHeight * 1.2;\n\n  // Heel Raise\n  doc.text('Heel Raise:', 20, y); y += lineHeight;\n  doc.text(`Target Height: ${exercises.heelRaise.targetHeight} cm`, 30, y); y += lineHeight;\n  doc.text(`Hold Time: ${exercises.heelRaise.holdTime} seconds`, 30, y); y += lineHeight;\n  doc.text(`Repetitions: ${exercises.heelRaise.repetitions}`, 30, y); y += lineHeight * 1.2;\n\n  // Training Frequency\n  doc.text(`Training Frequency: ${sessionsPerDay} sessions per day`, 20, y);\n\n  return doc;\n};\n\nexport const uploadPDF = async (\n  patientId: string,\n  rehabPhase: string,\n  pdfDoc: jsPDF,\n  reportDate?: Date // 可选，方便保证 PDF 内容和文件名一致\n): Promise<{ url: string, fileName: string, localDateStr: string }> => {\n  try {\n    const storage = getStorage();\n    const date = reportDate || new Date();\n    const { fileName, localDateStr } = getSeattleTimestampFilename(date);\n    const pdfBlob = pdfDoc.output('blob');\n    const storageRef = ref(storage, `X-Heal-Reports/${patientId}/${rehabPhase}/${fileName}`);\n    await uploadBytes(storageRef, pdfBlob);\n    const downloadUrl = await getDownloadURL(storageRef);\n    return { url: downloadUrl, fileName, localDateStr };\n  } catch (error) {\n    console.error('Error uploading PDF:', error);\n    throw error;\n  }\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}